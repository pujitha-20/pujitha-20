{% extends "base.html" %}

{% block content %}
    <h2>Filter Transactions ğŸ“‚</h2>

    <form method="POST" style="margin-bottom: 30px;">
        <label>Start Date:</label>
        <input type="date" name="start" required>

        <label style="margin-left: 20px;">End Date:</label>
        <input type="date" name="end" required>

        <br><br>
        <button type="submit" name="action" value="filter">ğŸ” Filter</button>
        <button type="submit" name="action" value="export">ğŸ“„ Export as CSV</button>
    </form>

    {% if results %}
    <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%;">
        <thead style="background-color: #f2f2f2;">
            <tr>
                <th>Amount</th>
                <th>Type</th>
                <th>Category</th>
                <th>Date</th>
                <th>Note</th>
                <th>Tag</th>
            </tr>
        </thead>
        <tbody>
            {% for txn in results %}
            <tr>
                <td>â‚¹{{ txn.amount }}</td>
                <td>{{ txn.type }}</td>
                <td>{{ txn.category }}</td>
                <td>{{ txn.date }}</td>
                <td>{{ txn.note }}</td>
                <td>{{ txn.tag }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
{% endblock %}

